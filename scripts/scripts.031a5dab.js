"use strict";angular.module("communauteUfrApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.router","ui.bootstrap"]).config(["$urlRouterProvider","$stateProvider","$locationProvider",function(a,b,c){a.otherwise("/accueil"),b.state("home",{url:"/accueil",templateUrl:"views/home.html",controller:"HomeController"}).state("news",{url:"/news/{newsTitle}",params:{news:null},templateUrl:"views/news-page.html",controller:"NewsController"})}]).run(["$anchorScroll",function(a){a.yOffset=50}]),angular.module("communauteUfrApp").controller("HomeController",["$anchorScroll","$location","$scope","$stateParams","$rootScope","$state",function(a,b,c,d,e,f){c.myInterval=5e3,c.noWrapSlides=!1,c.active=0;var g=c.slides=[];c.gotoAnchor=function(c){var d=c;b.hash()!==d?b.hash(c):a()},g.push({image:"images/carousel/kots5.jpg",title:"L'UFR repart à l'assaut du titre",text:"En présentant deux équipes !",id:0}),g.push({image:"images/carousel/sc-3-0.jpg",title:"La 3.0 est là !",text:"Les FPS un peu moins... Mais la 3.0 est là quand même :D",id:1}),g.push({image:"images/carousel/overwatch.jpg",title:"On lvl up sur Overwatch !",text:"Si le matchmaking le veut bien...",id:2}),g.push({image:"images/carousel/1480287464-gtav.jpg",title:"L'UFR est sur GTA !",text:"Le respect peut aller se faire voir. La décence aussi...",id:3}),void 0===e.goToHome&&(e.goToHome=function(){f.go("accueil")}),c.newsBlocks=[{theme:"World of Warships",title:"King of the Sea V",img:"ships-fleet.jpg",date:"20180110",file:"2018-01-10-one-step-from-heaven.json",route:"one-step-from-heaven"},{theme:"World of Warships",title:"Le retour du Twitch",img:"wows3.jpg",date:"20180102",file:"2018-01-02-maman-je-passe-a-la-tele.json",route:"maman-je-passe-a-la-tele"},{theme:"Découverte",title:"Bridge Consctructor Portal",img:"bridge-constructor-portal.jpg",date:"20180101",file:"2018-01-01-bridge-constructor-portal.json",route:"bridge-constructor-portal"},{theme:"World of Warships",title:"Fin de la 1ère saison des batailles de clan",img:"wows2.jpg",date:"20180101",file:"2018-01-01-sortez-la-cb.json",route:"sortez-la-cb"},{theme:"Découverte",title:"Bomber Crew",img:"bomber-crew.jpg",date:"20171217",file:"2017-12-17-bomber-crew.json",route:"bomber-crew"},{theme:"World of Warships",title:"LotS saison II : UFR vainqueure",img:"wows-carrier.jpg",date:"20171120",file:"2017-11-20-ufr-wins-lots-2.json",route:"ufr-wins-lots-2"},{theme:"World of Warships",title:"Match LotS",img:"wows.jpg",date:"20171001",file:"2017-10-01-lots-2-m3.json",route:"lots-2-m3"},{theme:"World of Warships",title:"Tournoi King of the Sea II",img:"king-of-the-sea-2.png",date:"20170227",file:"2017-02-27-tournoi-king-of-the-sea-2.json",route:"tournoi-king-of-the-sea-2"},{theme:"Grand Theft Auto V",title:"Motos, boulots, bobos",img:"gtav.jpeg",date:"20170225",file:"2017-02-25-1-un-nouveau-fighter-le-hurricane.json",route:"update-des-constructions"}],c.gameBlocks=[{title:"PlanetSide 2",subTitle:"branche inactive",img:"ps2.jpg",branch:"ps2"},{title:"World of Warships",subTitle:"Recrutement sélectif",img:"wows.jpg",branch:"wows"},{title:"Grand Theft Auto V",subTitle:"Ouvert au recrutement",img:"gtav.jpeg",branch:"gtav"},{title:"Star Citizen",subTitle:"En attente de la V1 du jeu",img:"sc.jpg",branch:"sc"}]}]),angular.module("communauteUfrApp").controller("NewsController",["$scope","$stateParams","$rootScope","$state","$http",function(a,b,c,d,e){a.news={},void 0===c.goToHome&&(c.goToHome=function(){d.go("home")}),b.news||c.goToHome(),e.get("texts/news/"+b.news.file).then(function(b){a.news=b.data},function(){a.news={title:"News introuvable..."}})}]),angular.module("communauteUfrApp").controller("BranchController",["$scope","$state","$stateParams",function(a,b,c){}]),angular.module("communauteUfrApp").directive("gameBlock",["$state",function(a){return{restrict:"E",scope:{game:"="},controller:["$scope",function(b){b.backgroundImg={"background-image":"url(images/branches/"+b.game.img+")"},b.changeState=function(){a.go("branch",{branchName:b.game.branch})}}],templateUrl:"views/directives/game-block.html"}}]),angular.module("communauteUfrApp").directive("branche",["$stateParams",function(a){return{restrict:"E",scope:{},controller:["$scope",function(b){var c={ps2:{name:"PlanetSide 2",articles:"brzufzbf ps2",description:"ici c'est PS2 !"},wows:{name:"World of Warships",articles:"zubfzeubfezuib wows",description:"ici c'est WoWS !"},gtav:{name:"Grant Theft Auto V",articles:"zehbeziubezu gta5",description:"ici c'est GTAV !"},sc:{name:"Star Citizen",articles:"ezhbezuibfzuib sc",description:"ici c'est SC !"}};console.log("branche directive: "+a.branchName),b.currentBranch=c[a.branchName]}],templateUrl:"views/directives/branch.html"}}]),angular.module("communauteUfrApp").directive("branchInfo",function(){return{restrict:"E",scope:{nom:"="},controller:["$scope",function(a){}],templateUrl:"views/directives/branch-info.html"}}),angular.module("communauteUfrApp").directive("blockNews",function(){return{restrict:"E",scope:{news:"="},controller:["$scope","$state",function(a,b){a.backgroundImg={"background-image":"url(images/news/"+a.news.img+")"},a.news.date=moment(a.news.date,"YYYYMMDD").format("DD/MM/YYYY"),a.goToNewsPage=function(){b.go("news",{newsTitle:a.news.route,news:a.news})}}],templateUrl:"views/directives/block-news.html"}}),angular.module("communauteUfrApp").run(["$templateCache",function(a){a.put("views/branch-page.html",'<div ng-controller="BrancheController"> <branche></branche> </div>'),a.put("views/common/footer.html",'<div class="ufr-footer container-fluid"> <h3>Contactez-nous</h3> <p> <a href="http://forum.communaute-ufr.fr">sur notre forum</a> </p> <div>ou par mail: </div> <img src="images/mail-address-contact.png" height="25px"> </div>'),a.put("views/common/header.html",'\x3c!--Bannière - header--\x3e <div class="ufr-header container-fluid"> <div> <img ui-sref="home" class="logo-accueil" src="images/robocoq-rond.png"> </div> <div class="header-text"> <h1>Unité Francophone</h1> <p>Communauté multigaming née des cendres d\'Auraxis</p> </div> </div>'),a.put("views/directives/block-news.html",'<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 block-news" data-ng-style="backgroundImg"> <div ng-click="goToNewsPage()" class="sub-block-news"> <div class="news-title-date"> <span class="title">{{news.title}}</span> <span class="date">{{news.date}}</span> <span class="game">{{news.theme}}</span> </div> </div> </div>'),a.put("views/directives/branch-info.html",'<div class="container"> <h2>{{nom}}</h2> </div>'),a.put("views/directives/branch.html",'<h1>Nom Page: {{currentBranch.nom}}</h1> <div>Description: {{currentBranch.description}}</div> <div>Articles: {{currentBranch.articles}}</div> <fiche-branche nom="branchName"></fiche-branche>'),a.put("views/directives/game-block.html",'<div class="col-lg-3 col-md-6 col-sm-6 col-xs-12 game-block"> <div class="block-branche-background" data-ng-style="backgroundImg" ng-click="changeState()"> <div class="block-branche-shadow-and-text"> <span class="branch-name">{{game.title}}</span> <hr> <span class="branch-status">{{game.subTitle}}</span> </div> <span></span> </div> </div>'),a.put("views/home.html",'<div class="ufr-home"> <div class="main-page-content"> \x3c!--Barre de navigation--\x3e <nav class="navbar-ufr container-fluid page-element"> <ul class="navbar-ufr-list row"> <a href="" ng-click="gotoAnchor(\'actu\')"> <li class="col-md-2 col-sm-2 col-xs-12">Actualités</li> </a> <a href="" ng-click="gotoAnchor(\'branches\')"> <li class="col-md-3 col-sm-2 col-xs-12">Branches</li> </a> <a href="" ng-click="gotoAnchor(\'recrutement\')"> <li class="col-md-2 col-sm-3 col-xs-12">Recrutement</li> </a> <a href=""> <li class="col-md-3 col-sm-3 col-xs-12">Association</li> </a> <a href="http://wolftakke.forumactif.com/forum"> <li class="col-md-2 col-sm-2 col-xs-12">Forum</li> </a> </ul> </nav> \x3c!--Carousel--\x3e \x3c!--Les images apparaissent en 1000x542px, on tâchera donc de les stocker sous ces dimensions.--\x3e <div class="page-element"> <div uib-carousel active="active" interval="myInterval" no-wrap="noWrapSlides" class="ufr-carousel"> <div uib-slide ng-repeat="slide in slides track by slide.id" index="slide.id"> <img ng-src="{{slide.image}}"> <div class="carousel-caption"> <span class="carousel-title">{{slide.title}}</span> <span class="carousel-subtitle">{{slide.text}}</span> </div> </div> </div> </div> \x3c!--Les blocks dédiés aux actualités--\x3e <div class="container-fluid"> <div class="col-lg-4 col-md-4 col-sm-3 col-xs-2"></div> <div class="section-title col-lg-4 col-md-4 col-sm-6 col-xs-12"> <h2 id="actu">Actualités</h2> </div> <div class="col-lg-4 col-md-4 col-sm-3 col-xs-2"></div> </div> <div class="container-fluid container-news page-element"> <block-news data-ng-repeat="block in newsBlocks" news="block"></block-news> </div> \x3c!--Les blocks dédiés à nos jeux--\x3e <div class="container-fluid"> <div class="col-lg-4 col-md-4 col-sm-3 col-xs-2"></div> <div class="section-title col-lg-4 col-md-4 col-sm-6 col-xs-12"> <h2 id="branches">Nos branches</h2> </div> <div class="col-lg-4 col-md-4 col-sm-3 col-xs-2"></div> </div> <div class="page-element"> <div class="container-fluid container-jeux"> <game-block data-ng-repeat="block in gameBlocks" game="block"></game-block> </div> </div> \x3c!--Le Recrutement--\x3e <div class="container-fluid"> <div class="col-lg-4 col-md-4 col-sm-3 col-xs-2"></div> <div class="section-title col-lg-4 col-md-4 col-sm-6 col-xs-12"> <h2 id="recrutement">Nous rejoindre</h2> <p class="recrutement">(Recrutement)</p> </div> <div class="col-lg-4 col-md-4 col-sm-3 col-xs-2"></div> </div> <div class="container-recrutement panel panel-default page-element"> <div class="panel-body"> <ol> <li>Créez vous un compte sur notre forum via <a href="http://forum.communaute-ufr.fr/register" target="_blank"> ce lien</a>. </li> <li>Référez vous à <a href="http://forum.communaute-ufr.fr/t307-procedure-de-recrutement" target="_blank"> ces instructions</a>. </li> <li>Puis poster votre candidature <a href="http://forum.communaute-ufr.fr/f4-inscriptions">ici</a>. </li> </ol> </div> </div> </div> </div>'),a.put("views/news-page.html",'<div ng-controller="NewsController" class="news-container"> <div class="container"> <div class="row"> <div class="col-lg-2 col-med-3 col-sm-1"></div> <div class="col-lg-8 col-med-6 col-sm-10 block-title"> <h2>{{news.title}}</h2> <h3>{{news.subtitle}}</h3> <p>{{news.author}}</p> <p>{{news.date}}</p> </div> <div class="col-lg-2 col-med-3 col-sm-1"></div> </div> </div> <div class="container"> <div ng-if="news.mainImage" class="img-main"> <img ng-src="{{news.mainImage}}"> </div> <div ng-if="news.mainVideo" class="video-main"> <iframe width="560" height="315" src="https://www.youtube.com/embed/o6yS9q1Kaek" frameborder="0" allowfullscreen></iframe> </div> \x3c!--If the screen device is big enought, --\x3e \x3c!--we alternates the images and paragraphes display--\x3e <div data-ng-repeat="element in news.content" class="news-content row news-for-non-xs-only"> \x3c!--Display for even index--\x3e <div ng-if="$index%2 === 0" ng-class="element.image !== null ? \'col-lg-7 col-med-7 col-sm-7\' : \'col-lg-12\'"> <p>{{element.text}}</p> </div> <div ng-if="$index%2 === 0 && element.image !== null" class="col-lg-5 col-med-5 col-sm-5"> <img ng-src="{{element.image}}"> </div> \x3c!--Display for odd index--\x3e <div ng-if="$index%2 === 1 && element.image !== null" class="col-lg-5 col-med-5 col-sm-5"> <img ng-src="{{element.image}}"> </div> <div ng-if="$index%2 === 1" ng-class="element.image !== null ? \'col-lg-7 col-med-7 col-sm-7\' : \'col-lg-12\'"> <p>{{element.text}}</p> </div> </div> \x3c!--If the device is too small, everything is displayed in the same order--\x3e <div data-ng-repeat="element in news.content" class="news-content row news-for-xs-only"> <p class="col-xs-12"> {{element.text}} </p> <img ng-src="{{element.image}}" class="col-xs-12"> </div> </div> </div>')}]);